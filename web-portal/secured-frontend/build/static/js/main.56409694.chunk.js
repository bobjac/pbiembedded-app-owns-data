(this["webpackJsonpauth0-react-sample"]=this["webpackJsonpauth0-react-sample"]||[]).push([[0],{13:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(1),s=n(22),r=n.n(s),o=n(7),i=n(5),l=function(){return Object(c.jsxs)("div",{className:"next-steps",children:[Object(c.jsx)("h2",{className:"my-5 text-center",children:"What can I do next?"}),Object(c.jsxs)("div",{className:"row",children:[Object(c.jsxs)("div",{className:"col-md-5 mb-4",children:[Object(c.jsx)("h6",{className:"mb-3",children:Object(c.jsxs)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://auth0.com/docs/connections",children:[Object(c.jsx)("i",{className:"fas fa-link mr-2"}),"Configure other identity providers"]})}),Object(c.jsx)("p",{children:"Auth0 supports social providers as Facebook, Twitter, Instagram and 100+, Enterprise providers as Microsoft Office 365, Google Apps, Azure, and more. You can also use any OAuth2 Authorization Server."})]}),Object(c.jsx)("div",{className:"col-md"}),Object(c.jsxs)("div",{className:"col-md-5 mb-4",children:[Object(c.jsx)("h6",{className:"mb-3",children:Object(c.jsxs)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://auth0.com/docs/multifactor-authentication",children:[Object(c.jsx)("i",{className:"fas fa-link mr-2"}),"Enable Multi-Factor Authentication"]})}),Object(c.jsx)("p",{children:"Add an extra layer of security by enabling Multi-factor Authentication, requiring your users to provide more than one piece of identifying information. Push notifications, authenticator apps, SMS, and DUO Security are supported."})]})]}),Object(c.jsxs)("div",{className:"row",children:[Object(c.jsxs)("div",{className:"col-md-5 mb-4",children:[Object(c.jsx)("h6",{className:"mb-3",children:Object(c.jsxs)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://auth0.com/docs/anomaly-detection",children:[Object(c.jsx)("i",{className:"fas fa-link mr-2"}),"Anomaly Detection"]})}),Object(c.jsx)("p",{children:"Auth0 can detect anomalies and stop malicious attempts to access your application. Anomaly detection can alert you and your users of suspicious activity, as well as block further login attempts."})]}),Object(c.jsx)("div",{className:"col-md"}),Object(c.jsxs)("div",{className:"col-md-5 mb-4",children:[Object(c.jsx)("h6",{className:"mb-3",children:Object(c.jsxs)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://auth0.com/docs/rules",children:[Object(c.jsx)("i",{className:"fas fa-link mr-2"}),"Learn About Rules"]})}),Object(c.jsx)("p",{children:"Rules are JavaScript functions that execute when a user authenticates to your application. They run once the authentication process is complete, and you can use them to customize and extend Auth0's capabilities."})]})]})]})},u=function(){return Object(c.jsxs)("footer",{className:"bg-light p-3 text-center",children:[Object(c.jsx)("div",{className:"logo"}),Object(c.jsxs)("p",{children:["Sample project provided by"," ",Object(c.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://auth0.com",children:"Auth0"})]})]})},j=function(){return Object(c.jsxs)("div",{className:"text-center hero",children:[Object(c.jsx)("img",{className:"mb-3 app-logo",src:"https://cdn.auth0.com/blog/auth0-react-sample/assets/logo.png",alt:"React logo",width:"120"}),Object(c.jsx)("h1",{className:"mb-4",children:"React Sample Project"}),Object(c.jsxs)("p",{className:"lead",children:["This is a sample application that demonstrates an authentication flow for an SPA, using"," ",Object(c.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://auth0.com/docs/quickstart/spa/react",children:"React"})]})]})},b=function(){return Object(c.jsx)("div",{className:"spinner",children:Object(c.jsx)("img",{src:"https://cdn.auth0.com/blog/auth0-react-sample/assets/loading.svg",alt:"Loading..."})})},d=n(4),p=function(){return Object(c.jsxs)("div",{className:"navbar-nav mr-auto",children:[Object(c.jsx)(d.c,{to:"/",exact:!0,className:"nav-link",activeClassName:"router-link-exact-active",children:"Home"}),Object(c.jsx)(d.c,{to:"/profile",exact:!0,className:"nav-link",activeClassName:"router-link-exact-active",children:"Profile"}),Object(c.jsx)(d.c,{to:"/external-api",exact:!0,className:"nav-link",activeClassName:"router-link-exact-active",children:"External API"})]})},h=function(){var e=Object(i.b)().loginWithRedirect;return Object(c.jsx)("button",{className:"btn btn-primary btn-block",onClick:function(){return e()},children:"Log In"})},O=function(){var e=Object(i.b)().logout;return Object(c.jsx)("button",{className:"btn btn-danger btn-block",onClick:function(){return e({returnTo:window.location.origin})},children:"Log Out"})},x=function(){return Object(i.b)().isAuthenticated?Object(c.jsx)(O,{}):Object(c.jsx)(h,{})},m=function(){return Object(c.jsx)("div",{className:"navbar-nav ml-auto",children:Object(c.jsx)(x,{})})},f=function(){return Object(c.jsx)("div",{className:"nav-container mb-3",children:Object(c.jsx)("nav",{className:"navbar navbar-expand-md navbar-light bg-light",children:Object(c.jsxs)("div",{className:"container",children:[Object(c.jsx)("div",{className:"navbar-brand logo"}),Object(c.jsx)(p,{}),Object(c.jsx)(m,{})]})})})},v=n(3),g=n.n(v),k=n(6),y=n(2),N=n(24),w=n(12),S=function(){var e=Object(a.useState)({}),t=Object(y.a)(e,2),n=t[0],s=t[1],r=Object(a.useState)(""),l=Object(y.a)(r,2),u=(l[0],l[1]),j=Object(o.g)().reportId,b=Object(i.b)().getAccessTokenSilently;return console.log("Got the reportId from the params "+j),Object(a.useEffect)((function(){(function(){var e=Object(k.a)(g.a.mark((function e(){var t,n,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b();case 3:return t=e.sent,e.next=6,fetch("".concat("http://localhost:8080","/reports/").concat(j,"/pbiconfig"),{headers:{Authorization:"Bearer ".concat(t)}});case 6:return n=e.sent,console.log("Inside callGetReportConfig.  Got a response back of "+n),e.next=10,n.json();case 10:c=e.sent,s(c),console.log("After settings report config to state"),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),u(e.t0.message);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(c.jsx)(N.PowerBIEmbed,{embedConfig:{type:"report",id:n.pbiIdentifier,embedUrl:n.embedUrl,accessToken:n.accessToken,tokenType:w.models.TokenType.Embed,permissions:w.models.Permissions.All,viewMode:w.models.ViewMode.View,settings:{panes:{filters:{expanded:!0,visible:!0}}}},eventHandlers:new Map([["loaded",function(){console.log("Report loaded")}],["rendered",function(){console.log("Report rendered")}],["error",function(e){console.log(e.detail)}]]),cssClassName:"Embed-container",getEmbeddedComponent:function(e){window.report=e}})},A=(n(13),function(){var e=Object(a.useState)(""),t=Object(y.a)(e,2),n=(t[0],t[1]),s=Object(a.useState)(0),r=Object(y.a)(s,2),l=r[0],u=r[1],j=Object(a.useState)(0),b=Object(y.a)(j,2),d=b[0],p=b[1],h=Object(a.useState)(!1),O=Object(y.a)(h,2),x=O[0],m=O[1],f=Object(o.f)(),v=Object(i.b)().getAccessTokenSilently,N=function(){var e=Object(k.a)(g.a.mark((function e(t){var c,a,s,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,c={userId:d,workspaceId:l},e.next=5,v();case 5:return a=e.sent,e.next=8,fetch("".concat("http://localhost:8080","/workspaceusers"),{method:"POST",mode:"cors",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify(c)});case 8:return s=e.sent,console.log("createPbiWorkspaceUserResponse is "+s),e.next=12,s.json();case 12:r=e.sent,console.log("createPbiWorkspaceUserResponseData is "+r),f.push("./admin"),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),n(e.t0.message);case 20:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(t){return e.apply(this,arguments)}}();return Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:"container",children:Object(c.jsx)("h1",{children:"Workspace Users"})}),Object(c.jsx)("div",{children:Object(c.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){m(!0)},children:"New Workdpace User"})}),x&&Object(c.jsx)("div",{children:Object(c.jsxs)("form",{onSubmit:N,children:[Object(c.jsxs)("label",{children:["User Id:",Object(c.jsx)("input",{type:"text",value:d,onChange:function(e){return p(e.target.value)}})]}),Object(c.jsxs)("label",{children:["Workspace Id:",Object(c.jsx)("input",{type:"text",value:l,onChange:function(e){return u(e.target.value)}})]}),Object(c.jsx)("input",{type:"submit",value:"Submit"})]})})]})}),I=function(){var e=Object(a.useState)(""),t=Object(y.a)(e,2),n=t[0],s=t[1],r=Object(a.useState)([]),l=Object(y.a)(r,2),u=l[0],j=l[1],b=Object(a.useState)([]),p=Object(y.a)(b,2),h=p[0],O=p[1],x=Object(a.useState)({}),m=Object(y.a)(x,2),f=m[0],v=m[1],N=Object(a.useState)({}),w=Object(y.a)(N,2),S=w[0],A=w[1],I=Object(a.useState)(!1),C=Object(y.a)(I,2),T=C[0],P=C[1],R=Object(a.useState)(!1),W=Object(y.a)(R,2),D=W[0],U=W[1],B=Object(a.useState)(!1),z=Object(y.a)(B,2),E=z[0],G=z[1],J=Object(a.useState)(!1),L=Object(y.a)(J,2),M=L[0],F=L[1],q=Object(a.useState)(!1),_=Object(y.a)(q,2),H=_[0],V=_[1],Y=Object(a.useState)(!1),Z=Object(y.a)(Y,2),Q=Z[0],K=Z[1],X=Object(a.useState)([]),$=Object(y.a)(X,2),ee=$[0],te=$[1],ne=Object(o.f)(),ce=Object(i.b)().getAccessTokenSilently,ae="http://localhost:8080",se=function(){var e=Object(k.a)(g.a.mark((function e(){var t,n,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Inside callTenants"),e.prev=1,e.next=4,ce();case 4:return t=e.sent,e.next=7,fetch("".concat(ae,"/tenants"),{headers:{Authorization:"Bearer ".concat(t)}});case 7:return n=e.sent,console.log("Got the response inside callTenants"),e.next=11,n.json();case 11:c=e.sent,console.log("Got the responseData inside callTenants"),j(c),re(),P(!0),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(1),s(e.t0.message);case 21:case"end":return e.stop()}}),e,null,[[1,18]])})));return function(){return e.apply(this,arguments)}}(),re=function(){P(!1),U(!1),G(!1),F(!1),V(!1),K(!1)},oe=function(){var e=Object(k.a)(g.a.mark((function e(){var t,n,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ce();case 3:return t=e.sent,e.next=6,fetch("".concat(ae,"/workspaces"),{headers:{Authorization:"Bearer ".concat(t)}});case 6:return n=e.sent,console.log("Got respons back from workspaces"),e.next=10,n.json();case 10:c=e.sent,console.log("Thre responseData from callWorkspaces is "+c),te(c),re(),G(!0),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),s(e.t0.message);case 20:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(){return e.apply(this,arguments)}}(),ie=function(){var e=Object(k.a)(g.a.mark((function e(){var t,n,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ce();case 3:return t=e.sent,e.next=6,fetch("".concat(ae,"/workspaceusers"),{headers:{Authorization:"Bearer ".concat(t)}});case 6:return n=e.sent,console.log("Got respons back from workspaceusers"),e.next=10,n.json();case 10:c=e.sent,console.log("Thre responseData from callWorkspaceUsers is "+c),v(c),re(),F(!0),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),s(e.t0.message);case 20:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(){return e.apply(this,arguments)}}(),le=function(){var e=Object(k.a)(g.a.mark((function e(){var t,n,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ce();case 3:return t=e.sent,e.next=6,fetch("".concat(ae,"/users"),{headers:{Authorization:"Bearer ".concat(t)}});case 6:return n=e.sent,console.log("Got respons back from users"),e.next=10,n.json();case 10:c=e.sent,console.log("Thre responseData from callUsers is "+c),console.log("The email address is "+c.email),O(c),re(),U(!0),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),s(e.t0.message);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(){return e.apply(this,arguments)}}(),ue=function(){var e=Object(k.a)(g.a.mark((function e(){var t,n,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ce();case 3:return t=e.sent,e.next=6,fetch("".concat(ae,"/datasets"),{headers:{Authorization:"Bearer ".concat(t)}});case 6:return n=e.sent,console.log("Got respons back from datasets"),e.next=10,n.json();case 10:c=e.sent,console.log("Thre responseData from callDatasets is "+c),A(c),re(),K(!0),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),s(e.t0.message);case 20:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(){return e.apply(this,arguments)}}();return Object(c.jsxs)("div",{className:"container",children:[Object(c.jsx)("h1",{children:"External API"}),Object(c.jsx)("p",{children:"Use these buttons to call an external API. The protected API call has an access token in its authorization header. The API server will validate the access token using the Auth0 Audience value."}),Object(c.jsxs)("div",{className:"btn-group mt-5",role:"group","aria-label":"External API Requests Examples",children:[Object(c.jsx)("button",{type:"button",className:"btn btn-primary",onClick:se,children:"Tenants"}),Object(c.jsx)("button",{type:"button",className:"btn btn-primary",onClick:oe,children:"Workspaces"}),Object(c.jsx)("button",{type:"button",className:"btn btn-primary",onClick:le,children:"Users"}),Object(c.jsx)("button",{type:"button",className:"btn btn-primary",onClick:ie,children:"Workspace Users"}),Object(c.jsx)("button",{type:"button",className:"btn btn-primary",onClick:ue,children:"Datasets"})]}),n&&Object(c.jsxs)("div",{className:"mt-5",children:[Object(c.jsx)("h6",{className:"muted",children:"Result"}),Object(c.jsx)("div",{className:"container-fluid",children:Object(c.jsx)("div",{className:"row",children:Object(c.jsx)("code",{className:"col-12 text-light bg-dark p-4",children:n})})})]}),T&&Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{children:"Tenants"}),Object(c.jsx)("div",{children:Object(c.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){ne.push("./tenants")},children:"Add Tenant"})}),Object(c.jsx)("div",{children:Object(c.jsx)("ul",{children:u.map((function(e){return Object(c.jsx)("li",{children:Object(c.jsxs)(d.b,{to:"/tenants/".concat(e.id),children:[e.id," - ",e.tenantName]})},e.id)}))})})]}),E&&Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{children:"Workspaces"}),Object(c.jsx)("div",{children:Object(c.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){ne.push("./workspaces")},children:"Add Workspace"})}),Object(c.jsx)("div",{children:Object(c.jsx)("ul",{children:ee.map((function(e){return Object(c.jsx)("li",{children:Object(c.jsxs)(d.b,{to:"/workspaces/".concat(e.id),children:[e.id," - ",e.workspaceName]})},e.id)}))})})]}),D&&Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{children:"Users"}),Object(c.jsx)("div",{children:Object(c.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){ne.push("./users")},children:"Add User"})}),Object(c.jsx)("div",{children:Object(c.jsx)("ul",{children:h.map((function(e){return Object(c.jsx)("li",{children:Object(c.jsxs)(d.b,{to:"/users/".concat(e.id),children:[e.id," / ",e.email]})},e.id)}))})})]}),M&&Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{children:"Users"}),Object(c.jsx)("div",{children:Object(c.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){ne.push("./workspaceusers")},children:"Add Workspace User"})}),Object(c.jsx)("div",{children:Object(c.jsx)("ul",{children:f.map((function(e){return Object(c.jsx)("li",{children:Object(c.jsxs)(d.b,{to:"/users/".concat(e.id),children:[e.id," - ",e.userId,"/",e.workspaceId]})},e.id)}))})})]}),H&&Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{children:"Users"}),Object(c.jsx)("div",{children:Object(c.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){ne.push("./workspace-reports")},children:"Add Workspace Reports"})}),Object(c.jsx)("div",{children:Object(c.jsx)("ul",{children:h.map((function(e){return Object(c.jsx)("li",{children:Object(c.jsxs)(d.b,{to:"/workspace-reports/".concat(e.id),children:[e.workspaceId,"/",e.reportId]})},e.id)}))})})]}),Q&&Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{children:"Datasets"}),Object(c.jsx)("div",{children:Object(c.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){ne.push("./datasets")},children:"Add Datasets"})}),Object(c.jsx)("div",{children:Object(c.jsx)("ul",{children:S.map((function(e){return Object(c.jsx)("li",{children:Object(c.jsxs)(d.b,{to:"/datasets/".concat(e.pbiId,"/").concat(e.pbiWorkspaceId),children:[e.workspaceId," - ",e.dataSetName]})},e.id)}))})})]})]})},C=function(){var e=Object(a.useState)(""),t=Object(y.a)(e,2),n=(t[0],t[1]),s=Object(a.useState)(!1),r=Object(y.a)(s,2),l=r[0],u=r[1],j=Object(a.useState)(""),b=Object(y.a)(j,2),d=b[0],p=b[1],h=Object(a.useState)({}),O=Object(y.a)(h,2),x=(O[0],O[1]),m=Object(o.f)(),f=Object(i.b)().getAccessTokenSilently,v="http://localhost:8080",N=function(){var e=Object(k.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u(!l);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(k.a)(g.a.mark((function e(t){var c,a,s,r,o,i,l;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,c={tenantName:d},e.next=5,f();case 5:return a=e.sent,e.next=8,fetch("".concat(v,"/tenants"),{method:"POST",mode:"cors",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify(c)});case 8:return s=e.sent,e.next=11,s.json();case 11:return r=e.sent,console.log("createTenantResponseData is "+r),x(r),o={workspaceLocation:"eastus",workspaceName:d,tenantId:r.id},e.next=17,fetch("".concat(v,"/workspaces"),{method:"POST",mode:"cors",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify(o)});case 17:return i=e.sent,console.log("createPbiWorkspaceResponse is "+i),e.next=21,i.json();case 21:l=e.sent,console.log("createPbiWorkspaceResponseData is "+l),m.push("./admin"),e.next=29;break;case 26:e.prev=26,e.t0=e.catch(1),n(e.t0.message);case 29:case"end":return e.stop()}}),e,null,[[1,26]])})));return function(t){return e.apply(this,arguments)}}();return Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:"container",children:Object(c.jsx)("h1",{children:"Tenants"})}),Object(c.jsx)("div",{children:Object(c.jsx)("button",{type:"button",className:"btn btn-primary",onClick:N,children:"Show"})}),l&&Object(c.jsx)("div",{children:Object(c.jsxs)("form",{onSubmit:w,children:[Object(c.jsxs)("label",{children:["Tenant Name:",Object(c.jsx)("input",{type:"text",value:d,onChange:function(e){return p(e.target.value)}})]}),Object(c.jsx)("input",{type:"submit",value:"Submit"})]})})]})},T=function(){var e=Object(a.useState)(""),t=Object(y.a)(e,2),n=t[0],s=t[1],r=Object(a.useState)([]),l=Object(y.a)(r,2),u=(l[0],l[1],Object(a.useState)([])),j=Object(y.a)(u,2),b=j[0],p=(j[1],Object(a.useState)([])),h=Object(y.a)(p,2),O=h[0],x=h[1],m=Object(a.useState)([]),f=Object(y.a)(m,2),v=(f[0],f[1],Object(o.f)()),N="http://localhost:8080",w=Object(i.b)().getAccessTokenSilently,S=function(){var e=Object(k.a)(g.a.mark((function e(){var t,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(N,"/api/public"));case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,s(n.message),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),s(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(k.a)(g.a.mark((function e(){var t,n,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w();case 3:return t=e.sent,e.next=6,fetch("".concat(N,"/api/private"),{headers:{Authorization:"Bearer ".concat(t)}});case 6:return n=e.sent,e.next=9,n.json();case 9:c=e.sent,s(c.message),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),s(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(k.a)(g.a.mark((function e(){var t,n,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w();case 3:return t=e.sent,e.next=6,fetch("".concat(N,"/users/1/datasets"),{headers:{Authorization:"Bearer ".concat(t)}});case 6:return n=e.sent,e.next=9,n.json();case 9:c=e.sent,console.log("Got the response back from callGetUserDatasetsFromApi.  The value is "+c),x(c),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),s(e.t0.message);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(k.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{x([{id:"714dbd7d-cde7-43bd-8b28-0b06f3f8285f",dataSetName:"Weather"}])}catch(t){s(t.message)}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.jsxs)("div",{className:"container",children:[Object(c.jsx)("h1",{children:"External API"}),Object(c.jsx)("p",{children:"Use these buttons to call an external API. The protected API call has an access token in its authorization header. The API server will validate the access token using the Auth0 Audience value."}),Object(c.jsxs)("div",{className:"btn-group mt-5",role:"group","aria-label":"External API Requests Examples",children:[Object(c.jsx)("button",{type:"button",className:"btn btn-primary",onClick:S,children:"Get Public Message"}),Object(c.jsx)("button",{type:"button",className:"btn btn-primary",onClick:A,children:"Get Protected Message"}),Object(c.jsx)("button",{type:"button",className:"btn btn-primary",onClick:C,children:"Get Datasets"}),Object(c.jsx)("button",{type:"button",className:"btn btn-primary",onClick:I,children:"Get User Datasets"}),Object(c.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){v.push("/admin")},children:"Admin"})]}),n&&Object(c.jsxs)("div",{className:"mt-5",children:[Object(c.jsx)("h6",{className:"muted",children:"Result"}),Object(c.jsx)("div",{className:"container-fluid",children:Object(c.jsx)("div",{className:"row",children:Object(c.jsx)("code",{className:"col-12 text-light bg-dark p-4",children:n})})})]}),Object(c.jsxs)("ul",{children:[b.map((function(e){return Object(c.jsx)("li",{children:Object(c.jsx)(d.b,{to:"/reports/".concat(e.id),children:e.reportName})},e.id)})),O.map((function(e){return Object(c.jsx)("li",{children:Object(c.jsx)(d.b,{to:"/datasets/".concat(e.id,"/f9ee0ebe-14f2-45ec-af3a-34e4c4a399e3"),children:e.dataSetName})},e.id)}))]})]})},P=function(){return Object(c.jsxs)(a.Fragment,{children:[Object(c.jsx)(j,{}),Object(c.jsx)("hr",{}),Object(c.jsx)(l,{})]})},R=function(){var e=Object(i.b)().user,t=e.name,n=e.picture,a=e.email;return Object(c.jsxs)("div",{children:[Object(c.jsxs)("div",{className:"row align-items-center profile-header",children:[Object(c.jsx)("div",{className:"col-md-2 mb-3",children:Object(c.jsx)("img",{src:n,alt:"Profile",className:"rounded-circle img-fluid profile-picture mb-3 mb-md-0"})}),Object(c.jsxs)("div",{className:"col-md text-center text-md-left",children:[Object(c.jsx)("h2",{children:t}),Object(c.jsx)("p",{className:"lead text-muted",children:a})]})]}),Object(c.jsx)("div",{className:"row",children:Object(c.jsx)("pre",{className:"col-12 text-light bg-dark p-4",children:JSON.stringify(e,null,2)})})]})},W=n(26),D=n(25),U=function(e){var t=e.component,n=Object(D.a)(e,["component"]);return Object(c.jsx)(o.a,Object(W.a)({component:Object(i.c)(t,{onRedirecting:function(){return Object(c.jsx)(b,{})}})},n))},B=(n.p,function(){var e=new w.service.Service(w.factories.hpmFactory,w.factories.wpmpFactory,w.factories.routerFactory),t=Object(i.b)().getAccessTokenSilently,n=Object(a.useState)({}),s=Object(y.a)(n,2),r=(s[0],s[1]),l=Object(a.useState)({}),u=Object(y.a)(l,2),j=(u[0],u[1],Object(a.useState)("")),b=Object(y.a)(j,2),d=(b[0],b[1]),p=Object(o.f)(),h=Object(o.g)(),O=h.datasetId,x=(h.workspaceId,"http://localhost:8080"),m=function(){var e=Object(k.a)(g.a.mark((function e(n,c,a,s){var r,o,i,l;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={sourceWorkspaceId:a,destinationWorkspaceId:s,reportId:n,reportName:c},e.prev=1,e.next=4,t();case 4:return o=e.sent,e.next=7,fetch("".concat(x,"/reports/").concat(n,"/clone"),{method:"POST",mode:"cors",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(o)},body:JSON.stringify(r)});case 7:return i=e.sent,e.next=10,i.json();case 10:l=e.sent,p.push("/reports/".concat(l.pbiIdentifier)),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),d(e.t0.message);case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t,n,c,a){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){console.log("entered useEffect()"),function(){var t=Object(k.a)(g.a.mark((function t(){var n,c,a,s,o;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(x,"/datasets/").concat(O,"/config"));case 2:return n=t.sent,t.next=5,n.json();case 5:c=t.sent,r(c),a=document.getElementById("reportContainer"),s={type:"report",tokenType:1,accessToken:c.embedToken.token,embedUrl:c.embedDatasets[0].createReportEmbedURL,datasetId:c.embedDatasets[0].id,permissions:w.models.Permissions.All,settings:{panes:{filters:{expanded:!0,visible:!0}}}},null!=a?((o=e.createReport(a,s)).off("loaded"),o.on("loaded",(function(){console.log("Report load successful")})),o.off("rendered"),o.on("rendered",(function(){console.log("Report render successful")})),o.off("saved"),o.on("saved",(function(e){var t=e.detail.reportObjectId,n=e.detail.reportName;m(t,n,"f9ee0ebe-14f2-45ec-af3a-34e4c4a399e3","6e5482de-8849-4ec2-b432-0939f3a15f31")}))):console.log("Report container was not found");case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()}),[]),Object(c.jsx)("div",{className:"App",children:Object(c.jsx)("header",{className:"App-header",children:Object(c.jsx)("div",{id:"reportContainer",className:"Embed-container"})})})}),z=function(){var e=Object(a.useState)(""),t=Object(y.a)(e,2),n=(t[0],t[1]),s=Object(a.useState)(!1),r=Object(y.a)(s,2),l=r[0],u=r[1],j=Object(a.useState)(""),b=Object(y.a)(j,2),d=b[0],p=b[1],h=Object(a.useState)(0),O=Object(y.a)(h,2),x=O[0],m=O[1],f=Object(a.useState)(""),v=Object(y.a)(f,2),N=v[0],w=v[1],S=Object(o.f)(),A=Object(i.b)().getAccessTokenSilently,I=function(){var e=Object(k.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u(!l);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(k.a)(g.a.mark((function e(t){var c,a,s,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,c={workspaceLocation:N,workspaceName:d,tenantId:x},e.next=5,A();case 5:return a=e.sent,e.next=8,fetch("".concat("http://localhost:8080","/workspaces"),{method:"POST",mode:"cors",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify(c)});case 8:return s=e.sent,console.log("createPbiWorkspaceResponse is "+s),e.next=12,s.json();case 12:r=e.sent,console.log("createPbiWorkspaceResponseData is "+r),S.push("./admin"),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),n(e.t0.message);case 20:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(t){return e.apply(this,arguments)}}();return Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:"container",children:Object(c.jsx)("h1",{children:"Tenants"})}),Object(c.jsx)("div",{children:Object(c.jsx)("button",{type:"button",className:"btn btn-primary",onClick:I,children:"Add Workspace"})}),l&&Object(c.jsx)("div",{children:Object(c.jsxs)("form",{onSubmit:C,children:[Object(c.jsxs)("label",{children:["Workspace Name:",Object(c.jsx)("input",{type:"text",value:d,onChange:function(e){return p(e.target.value)}})]}),Object(c.jsxs)("label",{children:["Workspace Location:",Object(c.jsx)("input",{type:"text",value:N,onChange:function(e){return w(e.target.value)}})]}),Object(c.jsxs)("label",{children:["Tenant Id:",Object(c.jsx)("input",{type:"text",value:x,onChange:function(e){return m(e.target.value)}})]}),Object(c.jsx)("input",{type:"submit",value:"Submit"})]})})]})},E=function(){var e=Object(a.useState)(""),t=Object(y.a)(e,2),n=(t[0],t[1]),s=Object(a.useState)(""),r=Object(y.a)(s,2),l=r[0],u=r[1],j=Object(a.useState)(""),b=Object(y.a)(j,2),d=b[0],p=b[1],h=Object(a.useState)(""),O=Object(y.a)(h,2),x=O[0],m=O[1],f=Object(a.useState)(""),v=Object(y.a)(f,2),N=v[0],w=v[1],S=Object(o.f)(),A=Object(a.useState)(!1),I=Object(y.a)(A,2),C=I[0],T=I[1],P=Object(i.b)().getAccessTokenSilently,R=function(){var e=Object(k.a)(g.a.mark((function e(t){var c,a,s,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,c={userId:l,email:d,lastName:x,firstName:N},e.next=5,P();case 5:return a=e.sent,e.next=8,fetch("".concat("http://localhost:8080","/users"),{method:"POST",mode:"cors",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify(c)});case 8:return s=e.sent,console.log("createUserResponse is "+s),e.next=12,s.json();case 12:r=e.sent,console.log("createUserResponseData is "+r),S.push("./admin"),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),n(e.t0.message);case 20:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(t){return e.apply(this,arguments)}}();return Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:"container",children:Object(c.jsx)("h1",{children:"Users"})}),Object(c.jsx)("div",{children:Object(c.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){T(!0)},children:"New User"})}),C&&Object(c.jsx)("div",{children:Object(c.jsxs)("form",{onSubmit:R,children:[Object(c.jsxs)("label",{children:["IDP User Id:",Object(c.jsx)("input",{type:"text",value:l,onChange:function(e){return u(e.target.value)}})]}),Object(c.jsxs)("label",{children:["Email Address:",Object(c.jsx)("input",{type:"text",value:d,onChange:function(e){return p(e.target.value)}})]}),Object(c.jsxs)("label",{children:["Last Name:",Object(c.jsx)("input",{type:"text",value:x,onChange:function(e){return m(e.target.value)}})]}),Object(c.jsxs)("label",{children:["First Name:",Object(c.jsx)("input",{type:"text",value:N,onChange:function(e){return w(e.target.value)}})]}),Object(c.jsx)("input",{type:"submit",value:"Submit"})]})})]})},G=function(){var e=Object(a.useState)(""),t=Object(y.a)(e,2),n=(t[0],t[1]),s=Object(a.useState)(0),r=Object(y.a)(s,2),l=r[0],u=r[1],j=Object(a.useState)(0),b=Object(y.a)(j,2),d=b[0],p=b[1],h=Object(a.useState)(!1),O=Object(y.a)(h,2),x=O[0],m=O[1],f=Object(i.b)().getAccessTokenSilently,v=Object(o.f)(),N=function(){var e=Object(k.a)(g.a.mark((function e(t){var c,a,s,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,c={workspaceId:l,reportId:d},e.next=5,f();case 5:return a=e.sent,e.next=8,fetch("".concat("http://localhost:8080","/workspacereports"),{method:"POST",mode:"cors",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify(c)});case 8:return s=e.sent,console.log("createPbiWorkspaceReportResponse is "+s),e.next=12,s.json();case 12:r=e.sent,console.log("createPbiWorkspaceUserResponseData is "+r),v.push("./admin"),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),n(e.t0.message);case 20:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(t){return e.apply(this,arguments)}}();return Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:"container",children:Object(c.jsx)("h1",{children:"Workspace Users"})}),Object(c.jsx)("div",{children:Object(c.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){m(!0)},children:"New Workdpace User"})}),x&&Object(c.jsx)("div",{children:Object(c.jsxs)("form",{onSubmit:N,children:[Object(c.jsxs)("label",{children:["Workspace Id:",Object(c.jsx)("input",{type:"text",value:l,onChange:function(e){return u(e.target.value)}})]}),Object(c.jsxs)("label",{children:["Report Id:",Object(c.jsx)("input",{type:"text",value:d,onChange:function(e){return p(e.target.value)}})]}),Object(c.jsx)("input",{type:"submit",value:"Submit"})]})})]})},J=function(){var e=Object(a.useState)(""),t=Object(y.a)(e,2),n=(t[0],t[1]),s=Object(a.useState)(!1),r=Object(y.a)(s,2),l=r[0],u=r[1],j=Object(o.f)(),b=Object(a.useState)(0),d=Object(y.a)(b,2),p=d[0],h=d[1],O=Object(a.useState)(0),x=Object(y.a)(O,2),m=x[0],f=x[1],v=Object(a.useState)(""),N=Object(y.a)(v,2),w=N[0],S=N[1],A=Object(a.useState)(""),I=Object(y.a)(A,2),C=I[0],T=I[1],P=Object(a.useState)(""),R=Object(y.a)(P,2),W=R[0],D=R[1],U=Object(a.useState)(""),B=Object(y.a)(U,2),z=B[0],E=B[1],G=Object(i.b)().getAccessTokenSilently,J=function(){var e=Object(k.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u(!l);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(k.a)(g.a.mark((function e(t){var c,a,s,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,c={tenandId:p,workspaceId:m,pbiWorkspace:w,dataSetName:W,createdBy:z},e.next=5,G();case 5:return a=e.sent,e.next=8,fetch("".concat("http://localhost:8080","/datasets"),{method:"POST",mode:"cors",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify(c)});case 8:return s=e.sent,console.log("createDatasetResponse is "+s),e.next=12,s.json();case 12:r=e.sent,console.log("createDatasetResponseData is "+r.id),j.push("./admin"),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),n(e.t0.message);case 20:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(t){return e.apply(this,arguments)}}();return Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:"container",children:Object(c.jsx)("h1",{children:"Users"})}),Object(c.jsx)("div",{children:Object(c.jsx)("button",{type:"button",className:"btn btn-primary",onClick:J,children:"New Dataset"})}),l&&Object(c.jsx)("div",{children:Object(c.jsxs)("form",{onSubmit:L,children:[Object(c.jsxs)("label",{children:["Tenant Id:",Object(c.jsx)("input",{type:"text",value:p,onChange:function(e){return h(e.target.value)}})]}),Object(c.jsxs)("label",{children:["Workspace Id:",Object(c.jsx)("input",{type:"text",value:m,onChange:function(e){return f(e.target.value)}})]}),Object(c.jsxs)("label",{children:["Power BI Workspace:",Object(c.jsx)("input",{type:"text",value:w,onChange:function(e){return S(e.target.value)}})]}),Object(c.jsxs)("label",{children:["Power BI Id:",Object(c.jsx)("input",{type:"text",value:C,onChange:function(e){return T(e.target.value)}})]}),Object(c.jsxs)("label",{children:["Dataset Name:",Object(c.jsx)("input",{type:"text",value:W,onChange:function(e){return D(e.target.value)}})]}),Object(c.jsxs)("label",{children:["Created By:",Object(c.jsx)("input",{type:"text",value:z,onChange:function(e){return E(e.target.value)}})]}),Object(c.jsx)("input",{type:"submit",value:"Submit"})]})})]})},L=function(){return Object(i.b)().isLoading?Object(c.jsx)(b,{}):Object(c.jsxs)("div",{id:"app",className:"d-flex flex-column h-100",children:[Object(c.jsx)(f,{}),Object(c.jsx)("div",{className:"container flex-grow-1",children:Object(c.jsxs)(o.c,{children:[Object(c.jsx)(o.a,{path:"/",exact:!0,component:P}),Object(c.jsx)(U,{path:"/admin",component:I}),Object(c.jsx)(U,{path:"/tenants",component:C}),Object(c.jsx)(U,{path:"/profile",component:R}),Object(c.jsx)(U,{path:"/external-api",component:T}),Object(c.jsx)(U,{path:"/workspaces",component:z}),Object(c.jsx)(U,{path:"/workspaceusers",component:A}),Object(c.jsx)(U,{path:"/users",component:E}),Object(c.jsx)(U,{path:"/workspace-reports",component:G}),Object(c.jsx)(U,{path:"/reports/:reportId",component:S}),Object(c.jsx)(U,{path:"/datasets/:datasetId/:workspaceId",component:B}),Object(c.jsx)(U,{path:"/datasets",component:J})]})}),Object(c.jsx)(u,{})]})},M=function(e){var t=e.children,n=Object(o.f)();return Object(c.jsx)(i.a,{domain:"bobjac.auth0.com",clientId:"bkZ0f24xJYxIQwH9ka3LHmtHUWIqsNzZ",redirectUri:window.location.origin,onRedirectCallback:function(e){n.push((null===e||void 0===e?void 0:e.returnTo)||window.location.pathname)},audience:"https://quickstarts/api",children:t})};n(46);r.a.render(Object(c.jsx)(d.a,{children:Object(c.jsx)(M,{children:Object(c.jsx)(L,{})})}),document.getElementById("root"))}},[[47,1,2]]]);
//# sourceMappingURL=main.56409694.chunk.js.map